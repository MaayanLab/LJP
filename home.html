<div class="row">
	<div class="col-sm-10 col-sm-offset-1">
		<div class="alert alert-info">Search for LJP signatures using up/down gene sets or signature.</div>
		<div class="col-xs-5">
			<form class="form-horizontal" id="geneSet" method="post" action="/LJP/enrich">
				<input type="hidden" name="method" value="geneSet">

				<div class="form-group">
					<label for="upGenes" class="controal-label">Up genes</label>
					<textarea name="upGenes" rows="10" class="form-control" required></textarea>
				</div>
				
				<div class="form-group">
					<label for="dnGenes" class="controal-label">Down genes</label>
					<textarea name="dnGenes" rows="10" class="form-control" required></textarea>
				</div>

				<button class="btn btn-default" id="example1">Gene set example</button>
				<input class="btn btn-info" type="submit" value="Search"/>
			</form>
		</div>

		<div class="col-xs-2"></div>

		<div class="col-xs-5">
			<form class="form-horizontal" id="CD" method="post" action="/LJP/enrich">
				<input type="hidden" name="method" value="CD">

				<div class="form-group">
					<label for="signature" class="controal-label">Signature</label>
					<textarea name="signature" rows="10" class="form-control" required></textarea>
				</div>

				<button class="btn btn-default" id="example2">Signature example</button>
				<input class="btn btn-info" type="submit" value="Search"/>
			</form>
		</div>
	</div>
</div>
<script>
$("#example1").click(function(e){
	e.preventDefault();
	d3.json("test/ebovs_crispy_old.json", function(data){
		data = data['ebov30min'];
		$("[name=upGenes]").text(data['up'].join('\n'));
		$("[name=dnGenes]").text(data['dn'].join('\n'));
	})

})

$("#example2").click(function(e){
	e.preventDefault();
	d3.json("test/ebovs.json", function(data){
		data = data['ebov30min'];
		var signatureStr = '';
		for (var i = 0; i < data['vals'].length; i++) {
			var val = data['vals'][i]
			var gene = data['genes'][i]
			signatureStr += gene + ',' + val + '\n';
		};
		$("[name=signature]").text(signatureStr);
	})

})

</script>
